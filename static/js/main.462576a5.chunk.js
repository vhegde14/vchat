(this.webpackJsonpvchat=this.webpackJsonpvchat||[]).push([[0],{50:function(e,t,c){},52:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var n=c(6),a=c.n(n),s=c(39),i=c.n(s),r=(c(50),c(0)),o=c.n(r),u=c(35),d=c(2),j=c(11),l=(c(52),c(42)),b=c(44),O=c(20),h=c(21),f=c(69),p=c(10),v={apiKey:"AIzaSyAt_WlcFWCyNYRQi1N1XedwubH1Y3LGvYY",authDomain:"vchat-1e92a.firebaseapp.com",projectId:"vchat-1e92a",storageBucket:"vchat-1e92a.appspot.com",messagingSenderId:"430623474741",appId:"1:430623474741:web:f3444d5be9fd7162fa9d7c",measurementId:"G-943WBP4T03"},m=Object(b.a)(v),x=new O.a,g=Object(O.c)(),N=Object(h.c)(m),y=function(){Object(O.g)(g,x)},C=function(){Object(O.h)(g)};var S=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(f.a,{className:"signin-button",variant:"contained",onClick:y,children:"Sign in with Google"}),Object(p.jsx)("div",{children:"Sign in to be able to chat!"})]})},w=function(){return g.currentUser&&Object(p.jsx)("div",{className:"sidebar-signin",children:Object(p.jsx)(f.a,{className:"button",variant:"contained",onClick:C,children:"Sign out"})})},k=function(){var e=Object(n.useState)([{text:"Loading Messages...",id:"loading"}]),t=Object(j.a)(e,2),c=t[0],a=t[1],s=Object(n.useRef)(null);function i(){return(i=Object(d.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=Object(h.b)(t,"chat"),Object(h.d)(Object(h.f)(c,Object(h.e)("date")),(function(e){a(e.docs.map((function(e){return Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id})})))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[c]),Object(n.useEffect)((function(){return function(e){return i.apply(this,arguments)}(N)}),[]),Object(p.jsxs)("div",{className:"chat-wrapper",children:[null===c||void 0===c?void 0:c.map((function(e){return Object(p.jsx)(I,{message:e},e.id)})),Object(p.jsx)("div",{ref:s})]})},I=function(e){var t,c=Object(n.useState)(!1),a=Object(j.a)(c,2),s=a[0],i=a[1];function r(){i(!s)}return t=s?{backgroundColor:"#222222"}:{backgroundColor:"#383b44"},Object(p.jsxs)("div",{className:"post",style:t,onMouseEnter:r,onMouseLeave:r,children:[Object(p.jsx)("img",{className:"profilePhoto",src:e.message.profilePicture,alt:""}),Object(p.jsxs)("div",{className:"post-content",children:[Object(p.jsx)("div",{className:"username",children:e.message.displayName}),Object(p.jsx)("div",{className:"message-text",children:e.message.text})]})]})},L=function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],a=t[1],s=null===g||void 0===g?void 0:g.currentUser,i=s.uid,r=s.photoURL,u=s.displayName;function l(e){return b.apply(this,arguments)}function b(){return(b=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(h.a)(Object(h.b)(N,"chat"),{date:Object(h.g)(),text:c,id:i,profilePicture:r,displayName:u});case 3:a("");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)("form",{onSubmit:l,children:[Object(p.jsx)("input",{className:"message-field",placeholder:"Enter message",type:"text",value:c,onChange:function(e){return a(e.target.value)}}),Object(p.jsx)("input",{className:"send-button",type:"submit",value:"Send",onClick:l})]})},E=function(){var e=Object(l.a)(g),t=Object(j.a)(e,1)[0];return Object(n.useEffect)((function(){document.title="VChat"}),[]),Object(p.jsxs)("div",{className:"App",style:{backgroundColor:"#2e2e2e"},children:[Object(p.jsx)("title",{children:"vchat"}),Object(p.jsxs)("div",{className:"sidebar",children:[Object(p.jsx)("h1",{children:"vchat"}),t?Object(p.jsxs)("div",{children:[Object(p.jsx)(w,{}),Object(p.jsx)("img",{className:"sidebar-photo",src:null===t||void 0===t?void 0:t.photoURL,alt:""}),Object(p.jsxs)("div",{className:"sidebar-name",children:["Signed in as: ",null===t||void 0===t?void 0:t.displayName]})]}):Object(p.jsx)("div",{children:Object(p.jsx)(S,{})})]}),Object(p.jsx)("div",{className:"chatContainer",children:Object(p.jsx)(k,{})}),Object(p.jsx)("div",{className:"sendMessageContainer",children:t&&Object(p.jsx)(L,{})})]})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,70)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))};i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(E,{})}),document.getElementById("root")),P()}},[[59,1,2]]]);
//# sourceMappingURL=main.462576a5.chunk.js.map