(this.webpackJsonpvchat=this.webpackJsonpvchat||[]).push([[0],{50:function(e,t,n){},52:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(6),a=n.n(c),s=n(39),i=n.n(s),r=(n(50),n(0)),o=n.n(r),d=n(35),u=n(2),j=n(11),l=(n(52),n(42)),b=n(44),O=n(20),h=n(21),p=n(69),v=n(10),f={apiKey:"AIzaSyAt_WlcFWCyNYRQi1N1XedwubH1Y3LGvYY",authDomain:"vchat-1e92a.firebaseapp.com",projectId:"vchat-1e92a",storageBucket:"vchat-1e92a.appspot.com",messagingSenderId:"430623474741",appId:"1:430623474741:web:f3444d5be9fd7162fa9d7c",measurementId:"G-943WBP4T03"},m=Object(b.a)(f),x=new O.a,g=Object(O.c)(),N=Object(h.c)(m),y=function(){Object(O.g)(g,x)},C=function(){Object(O.h)(g)};var S=function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(p.a,{className:"signin-button",variant:"contained",onClick:y,children:"Sign in with Google"}),Object(v.jsx)("div",{children:"Sign in to be able to chat!"})]})},w=function(){return g.currentUser&&Object(v.jsx)("div",{className:"sidebar-signin",children:Object(v.jsx)(p.a,{className:"button",variant:"contained",onClick:C,children:"Sign out"})})},k=function(){var e=Object(c.useState)([{text:"Loading Messages...",id:"loading"}]),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useRef)(null);function i(){return(i=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(h.b)(t,"chat"),Object(h.d)(Object(h.f)(n,Object(h.e)("date")),(function(e){a(e.docs.map((function(e){return Object(d.a)(Object(d.a)({},e.data()),{},{id:e.id})})))}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()}),[n]),Object(c.useEffect)((function(){return function(e){return i.apply(this,arguments)}(N)}),[]),Object(v.jsxs)("div",{className:"chat-wrapper",children:[null===n||void 0===n?void 0:n.map((function(e){return Object(v.jsx)(I,{message:e},e.id)})),Object(v.jsx)("div",{ref:s})]})},I=function(e){var t,n=Object(c.useState)(!1),a=Object(j.a)(n,2),s=a[0],i=a[1];function r(){i(!s)}return t=s?{backgroundColor:"#222222"}:{backgroundColor:"#383b44"},Object(v.jsxs)("div",{className:"post",style:t,onMouseEnter:r,onMouseLeave:r,children:[Object(v.jsx)("img",{className:"profilePhoto",src:e.message.profilePicture,alt:""}),Object(v.jsxs)("div",{className:"post-content",children:[Object(v.jsx)("div",{className:"username",children:e.message.displayName}),Object(v.jsx)("div",{className:"message-text",children:e.message.text})]})]})},L=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],s=null===g||void 0===g?void 0:g.currentUser,i=s.uid,r=s.photoURL,d=s.displayName;function l(e){return b.apply(this,arguments)}function b(){return(b=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(h.a)(Object(h.b)(N,"chat"),{date:Object(h.g)(),text:n,id:i,profilePicture:r,displayName:d});case 3:a("");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(v.jsxs)("form",{onSubmit:l,children:[Object(v.jsx)("input",{className:"message-field",placeholder:"Enter message",type:"text",value:n,onChange:function(e){return a(e.target.value)}}),Object(v.jsx)("input",{className:"send-button",type:"submit",value:"Send",onClick:l})]})},P=function(){var e=Object(l.a)(g),t=Object(j.a)(e,1)[0];return Object(v.jsxs)("div",{className:"App",style:{backgroundColor:"#2e2e2e"},children:[Object(v.jsxs)("div",{className:"sidebar",children:[Object(v.jsx)("h1",{children:"vchat"}),t?Object(v.jsxs)("div",{children:[Object(v.jsx)(w,{}),Object(v.jsx)("img",{className:"sidebar-photo",src:null===t||void 0===t?void 0:t.photoURL,alt:""}),Object(v.jsxs)("div",{className:"sidebar-name",children:["Signed in as: ",null===t||void 0===t?void 0:t.displayName]})]}):Object(v.jsx)("div",{children:Object(v.jsx)(S,{})})]}),Object(v.jsx)("div",{className:"chatContainer",children:Object(v.jsx)(k,{})}),Object(v.jsx)("div",{className:"sendMessageContainer",children:t&&Object(v.jsx)(L,{})})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(P,{})}),document.getElementById("root")),E()}},[[59,1,2]]]);
//# sourceMappingURL=main.f969989d.chunk.js.map